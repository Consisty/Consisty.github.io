{"componentChunkName":"component---src-templates-blog-post-js","path":"/android/using_proguard_and_dexguard_in_your_android_app/","result":{"data":{"site":{"siteMetadata":{"title":"Consisty","author":"Consisty System","siteUrl":"https://blog.consisty.com","comment":{"disqusShortName":"","utterances":"Consisty/Consisty.github.io"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"ba1a935f-7f28-5dce-b4ca-495416e219bf","excerpt":"Android applications and SDKs are easy to decompile using readily available tools. This opens the way for data security violations like intellectual property theft, credential harvesting, tampering and cloning. Proguard is integrated into the Android build system and it runs only…","html":"<p>Android applications and SDKs are easy to decompile using readily available tools. This opens the way for data security violations like intellectual property theft, credential harvesting, tampering and cloning.</p>\n<p>Proguard is integrated into the Android build system and it runs only when you build your application in release mode.\nProguard is completely optional, but it is highly recommended.</p>\n<h3 id=\"important-points-that-should-be-considered-while-applying-the-proguard-in-your-application--\" style=\"position:relative;\"><a href=\"#important-points-that-should-be-considered-while-applying-the-proguard-in-your-application--\" aria-label=\"important points that should be considered while applying the proguard in your application   permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Important points that should be considered while applying the ProGuard in your application -</h3>\n<ul>\n<li>Do not forget to add the Proguard rules in <code class=\"language-text\">proguard-rules.pro</code> file for any library that you have included in your project.</li>\n<li>Add the rule for the classes on which you do not want to apply Proguard using keep class.</li>\n</ul>\n<h2 id=\"how-to-enable-proguard-in-android-studio\" style=\"position:relative;\"><a href=\"#how-to-enable-proguard-in-android-studio\" aria-label=\"how to enable proguard in android studio permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to Enable Proguard in Android Studio</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAABJ0AAASdAHeZh94AAABgElEQVQoz4VS247dIAzM///Y9gfOQ7VSe1bbE3IhAcIt2EA6kN2+1hpZQ6SxPY6HH29vj8djXeUqd6XMppXc5L6rwxhzHNbZwx76OMAP55C0McpoxKbc8PP9XQght+01zkJMr3Gc5nlDSLntLRrvGXxepJjXaWn4fIlht+GqNcborCUiZPQj4tIjlwyUf7kHKDEvqxwwRa1XDNE6B3FKqfa4/hewNYhphlc0NFZDbLSx1oYQUSVRChRccimnSNGTB7mVqO6cG349P56/n/Oy+BDwCStBSe+7OHUx+ZPPk7/FfSZiap2nSUCplPLew2TrB8fEtz0uRJngkjN3wrchZm7iRJwow7D34YxJKd3+iYttL9wWVXItpYLUUvvAX2PD3XB7iDEEt18VNkF9yakWKoVqJhB0uiq3fOVOMrDM85c4pWgPafQavA6nMmG1YTuC9FEx+cKx5IbMAcCz5nMSYsCFLMsyjuK+EGQcDIbfO0CUxkEZ3BzQnrjCTf75bDv+C3JUd2qaEhzkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"&quot;Enabling Proguard In Android Studio&quot;\"\n        title=\"&quot;Enabling Proguard In Android Studio&quot;\"\n        src=\"/static/c42d87320dec450bc688e8c09da0d774/fcda8/enable_progaurd_in_android_studio_01.png\"\n        srcset=\"/static/c42d87320dec450bc688e8c09da0d774/12f09/enable_progaurd_in_android_studio_01.png 148w,\n/static/c42d87320dec450bc688e8c09da0d774/e4a3f/enable_progaurd_in_android_studio_01.png 295w,\n/static/c42d87320dec450bc688e8c09da0d774/fcda8/enable_progaurd_in_android_studio_01.png 590w,\n/static/c42d87320dec450bc688e8c09da0d774/efc66/enable_progaurd_in_android_studio_01.png 885w,\n/static/c42d87320dec450bc688e8c09da0d774/c83ae/enable_progaurd_in_android_studio_01.png 1180w,\n/static/c42d87320dec450bc688e8c09da0d774/29114/enable_progaurd_in_android_studio_01.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br/></p>\n<ol>\n<li>In Android Studio project, the minifyEnabled property in the build.gradle file enables and disables Proguard for release builds.</li>\n<li>The minifyEnabled property is part of the buildTypes release block that controls the settings applied to release builds.</li>\n<li>Set the minifyEnabled property to true to enable Proguard.</li>\n<li>The getDefaultProguardFile(‘proguard-android.txt’) method obtains the default Proguard settings from the Android SDK tools/proguard folder.</li>\n<li>Android Studio adds the proguard-rules.pro file at the root of the module, which helps to add custom Proguard rules.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">android <span class=\"token punctuation\">{</span>\n    compileSdkVersion <span class=\"token number\">29</span>\n    buildToolsVersion '<span class=\"token number\">29.0</span>.<span class=\"token number\">3</span>'\n    ...\n    buildTypes <span class=\"token punctuation\">{</span>\n            release <span class=\"token punctuation\">{</span>\n                minifyEnabled <span class=\"token boolean\">true</span>\n                proguardFiles getDefaultProguardFile('proguard-android.txt')<span class=\"token punctuation\">,</span> 'proguard-rules.pro'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>In the minify process, Proguard changes change the class name, variable name, and method name in order to reduce the app size. For example, if you have a class named FirstClass.java in your app, proguard will change it into A or into something random. This could cause a runtime error as Class , methods or variables would not be found.</p>\n<p>To avoid this, you need to tell the proguard to keep these classes, methods or variables as it is. This can be done using:</p>\n<ul>\n<li>keep class:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token operator\">-</span>keep <span class=\"token keyword\">class</span> yourClassName<span class=\"token punctuation\">.</span>yourmethodName<span class=\"token punctuation\">.</span>*<span class=\"token operator\">*</span><span class=\"token punctuation\">{</span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>To disable warnings related to unresolved references, add dont warn.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token operator\">-</span>dontwarn okio<span class=\"token punctuation\">.</span>*<span class=\"token operator\">*</span>\n<span class=\"token operator\">-</span>ignorewarnings</code></pre></div>\n<ul>\n<li>You can also track the line number where crashes are reported using LineNumberTable</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token operator\">-</span>keepattributes <span class=\"token class-name\">SourceFile</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">LineNumberTable</span></code></pre></div>\n<blockquote>\n<p>When specifies methods that don’t have any side effects, other than possibly returning a value. For example, the methods of Log class</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token operator\">-</span>assumenosideeffects <span class=\"token keyword\">class</span> android<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span><span class=\"token class-name\">Log</span><span class=\"token punctuation\">.</span>*<span class=\"token operator\">*</span><span class=\"token punctuation\">{</span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"lets-understand-this-with-an-example\" style=\"position:relative;\"><a href=\"#lets-understand-this-with-an-example\" aria-label=\"lets understand this with an example permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Let’s understand this with an example</h2>\n<p>I’m using a github library called SweetAlert in my app. As it is a third party library, Proguard was skipping it and the app crashed at runtime.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABt0lEQVQoz4WTC7PaIBCF8///Xzs1WjXmAYEAeRmFRE8PdLy9de60O3NmCWE/WHbJ6rpGWVdopEDbSgjRQCmVvsumhmhbNIJjrhOSYyr+151BZzSscxiGAY5e6h5ZQ0DXabi+x6XRKChBWFVdIFtuomTayJgO1pokQ5BhjNKK0ozvks6qRaY6i2GccFsW7hoXxBM0mEaH5TpwfkwK4Yo1LL+13pKCX+CplxeyQbY/7LHLc8TUp2lCtGmaqSvud8+FATcGXwm6r56e85vHV6Z5uKzvHXqmG2Exrejv/gbPoLAFrNtKBTweG57PJx7PR/LvimasRvaihxCY+pDgyrAoYwM989IXi9nPH0Eve4dFX4vLZ6DHOI5QrKpkEQ7mgFzvkHe8jqFO0HfQZ+DGTNpW/QF67zHNU6pazeru3RG5PWBn9yjGCgvv8V/Add2Y4fh3ys716M8F7OkIWf5AXXynvsGJM3iJ+J/F/vwAbtvGS+1hywqODS3liU3+k61whG4LDLNjcTZyH18qnlOy6TPBVxBbJtLrpkFRlkmShVG2Q8vKpTFlrU0vQrEbjDFJcS42dV2dIPlIfgEFx0thxOEM5AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"&quot;example_01&quot;\"\n        title=\"&quot;example_01&quot;\"\n        src=\"/static/def42d36c4c1072bfe1b897eb0fe93da/fcda8/example_01.png\"\n        srcset=\"/static/def42d36c4c1072bfe1b897eb0fe93da/12f09/example_01.png 148w,\n/static/def42d36c4c1072bfe1b897eb0fe93da/e4a3f/example_01.png 295w,\n/static/def42d36c4c1072bfe1b897eb0fe93da/fcda8/example_01.png 590w,\n/static/def42d36c4c1072bfe1b897eb0fe93da/efc66/example_01.png 885w,\n/static/def42d36c4c1072bfe1b897eb0fe93da/c83ae/example_01.png 1180w,\n/static/def42d36c4c1072bfe1b897eb0fe93da/29114/example_01.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br/></p>\n<p>To resolve this, I added the following lines in the <code class=\"language-text\">proguard-rules.pro</code> file.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABfUlEQVQoz41Ti3KjMAzk///wpnfNtCHGb/wAEpvHngST9pLrdOqZRZZAy0qWm7Zt8U5oxQVCCLTtGUpJXDqOv0NIiU525HdQxqBTir7r0LGvJax36Pse3ntIE9AIemFcgHUU0AbaBmifofyIPo1IOSGlhJgOe98fiLvNOe/7k1ZotHGIMeF6naCspr+NGIYbrreCUiqWZcG6rvjJ4kqalz+v+PXyupfLhM6TihiIdECtdSfbtm1PYPsVeC3rAqkMmkDJMUaMRMA9EoLKiHlXtswHtnX7lpRXqYVaJtDc5bIa7oeTGZffBqb1CDZiyleUqX6U/Ux0t3OdcW5Pn4SlFOQho1KyO/eIKmOd14ekZ5X/xviHmg71kZBO6zaUnTDZYS/3u949q+W+PxDyiJSxwL4RoRmojDvhV9j+iympDkJ2lnmG7z0dyIRpIrK5ciE/xKGQh73hB4+MpqEUF7odb2fCCZZGKKVAI9Q/gmIuOISeEDz5fEsspDhB0hz+BUq5U6xsCGUTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"&quot;example_02&quot;\"\n        title=\"&quot;example_02&quot;\"\n        src=\"/static/39985c100e19cd8e57534c13b7168134/fcda8/example_02.png\"\n        srcset=\"/static/39985c100e19cd8e57534c13b7168134/12f09/example_02.png 148w,\n/static/39985c100e19cd8e57534c13b7168134/e4a3f/example_02.png 295w,\n/static/39985c100e19cd8e57534c13b7168134/fcda8/example_02.png 590w,\n/static/39985c100e19cd8e57534c13b7168134/efc66/example_02.png 885w,\n/static/39985c100e19cd8e57534c13b7168134/c83ae/example_02.png 1180w,\n/static/39985c100e19cd8e57534c13b7168134/29114/example_02.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br/></p>\n<p>Clean and rebuild your project.</p>\n<p>Run your app in an emulator or device to start seeing data on your mobile app’s Overview page.</p>\n<p>Thank You!</p>","frontmatter":{"title":"Using ProGuard and DexGuard in Your Android App","date":"February 26, 2020","authorID":"1"}}},"pageContext":{"slug":"/android/using_proguard_and_dexguard_in_your_android_app/","previous":{"fields":{"slug":"/android/progaurd_and_dexgaurd/"},"frontmatter":{"title":"Proguard and DexGuard","category":"android","draft":false}},"next":{"fields":{"slug":"/android/gradle_in_android_studio/"},"frontmatter":{"title":"Gradle in Android Studio","category":"android","draft":false}}}}}