{"componentChunkName":"component---src-templates-blog-post-js","path":"/android/using_proguard_and_dexguard_in_your_android_app/","result":{"data":{"site":{"siteMetadata":{"title":"Consisty","author":"Consisty System","siteUrl":"https://blog.consisty.com","comment":{"disqusShortName":"","utterances":"Consisty/Consisty.github.io"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"43afe4de-dde4-50c5-a8a5-276f786b7c6e","excerpt":"Android applications and SDKs are easy to decompile using readily available tools. This opens the way for data security violations like intellectual property theft, credential harvesting, tampering and cloning. Proguard is integrated into the Android build system and it runs only…","html":"<p>Android applications and SDKs are easy to decompile using readily available tools. This opens the way for data security violations like intellectual property theft, credential harvesting, tampering and cloning.</p>\n<p>Proguard is integrated into the Android build system and it runs only when you build your application in release mode.\nProguard is completely optional, but it is highly recommended.</p>\n<h3 id=\"important-points-that-should-be-considered-while-applying-the-proguard-in-your-application--\" style=\"position:relative;\"><a href=\"#important-points-that-should-be-considered-while-applying-the-proguard-in-your-application--\" aria-label=\"important points that should be considered while applying the proguard in your application   permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Important points that should be considered while applying the ProGuard in your application -</h3>\n<ul>\n<li>Do not forget to add the Proguard rules in <code class=\"language-text\">proguard-rules.pro</code> file for any library that you have included in your project.</li>\n<li>Add the rule for the classes on which you do not want to apply Proguard using keep class.</li>\n</ul>\n<h2 id=\"how-to-enable-proguard-in-android-studio\" style=\"position:relative;\"><a href=\"#how-to-enable-proguard-in-android-studio\" aria-label=\"how to enable proguard in android studio permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to Enable Proguard in Android Studio</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.645833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAABJ0AAASdAHeZh94AAABgElEQVQoz4VS247dIAzM///Y9gfOQ7VSe1bbE3IhAcIt2EA6kN2+1hpZQ6SxPY6HH29vj8djXeUqd6XMppXc5L6rwxhzHNbZwx76OMAP55C0McpoxKbc8PP9XQght+01zkJMr3Gc5nlDSLntLRrvGXxepJjXaWn4fIlht+GqNcborCUiZPQj4tIjlwyUf7kHKDEvqxwwRa1XDNE6B3FKqfa4/hewNYhphlc0NFZDbLSx1oYQUSVRChRccimnSNGTB7mVqO6cG349P56/n/Oy+BDwCStBSe+7OHUx+ZPPk7/FfSZiap2nSUCplPLew2TrB8fEtz0uRJngkjN3wrchZm7iRJwow7D34YxJKd3+iYttL9wWVXItpYLUUvvAX2PD3XB7iDEEt18VNkF9yakWKoVqJhB0uiq3fOVOMrDM85c4pWgPafQavA6nMmG1YTuC9FEx+cKx5IbMAcCz5nMSYsCFLMsyjuK+EGQcDIbfO0CUxkEZ3BzQnrjCTf75bDv+C3JUd2qaEhzkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"&quot;Enabling Proguard In Android Studio&quot;\"\n        title=\"&quot;Enabling Proguard In Android Studio&quot;\"\n        src=\"/static/c42d87320dec450bc688e8c09da0d774/fcda8/enable_progaurd_in_android_studio_01.png\"\n        srcset=\"/static/c42d87320dec450bc688e8c09da0d774/12f09/enable_progaurd_in_android_studio_01.png 148w,\n/static/c42d87320dec450bc688e8c09da0d774/e4a3f/enable_progaurd_in_android_studio_01.png 295w,\n/static/c42d87320dec450bc688e8c09da0d774/fcda8/enable_progaurd_in_android_studio_01.png 590w,\n/static/c42d87320dec450bc688e8c09da0d774/efc66/enable_progaurd_in_android_studio_01.png 885w,\n/static/c42d87320dec450bc688e8c09da0d774/c83ae/enable_progaurd_in_android_studio_01.png 1180w,\n/static/c42d87320dec450bc688e8c09da0d774/29114/enable_progaurd_in_android_studio_01.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br/></p>\n<ol>\n<li>In Android Studio project, the minifyEnabled property in the build.gradle file enables and disables Proguard for release builds.</li>\n<li>The minifyEnabled property is part of the buildTypes release block that controls the settings applied to release builds.</li>\n<li>Set the minifyEnabled property to true to enable Proguard.</li>\n<li>The getDefaultProguardFile(‘proguard-android.txt’) method obtains the default Proguard settings from the Android SDK tools/proguard folder.</li>\n<li>Android Studio adds the proguard-rules.pro file at the root of the module, which helps to add custom Proguard rules.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">android <span class=\"token punctuation\">{</span>\n    compileSdkVersion <span class=\"token number\">29</span>\n    buildToolsVersion '<span class=\"token number\">29.0</span>.<span class=\"token number\">3</span>'\n    ...\n    buildTypes <span class=\"token punctuation\">{</span>\n            release <span class=\"token punctuation\">{</span>\n                minifyEnabled <span class=\"token boolean\">true</span>\n                proguardFiles getDefaultProguardFile('proguard-android.txt')<span class=\"token punctuation\">,</span> 'proguard-rules.pro'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"to-add-support-for-proguard\" style=\"position:relative;\"><a href=\"#to-add-support-for-proguard\" aria-label=\"to add support for proguard permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>To add support for ProGuard</h2>\n<p>Add a New Relic Mobile exclusion to your app, for example -</p>\n<ul>\n<li>To support New Relic instrumentation, add keep class.</li>\n<li>To disable warnings related to unresolved problems, add dont warn.</li>\n<li>To preserve line numbers for crash reporting, add LineNumberTable.</li>\n<li>To preserve stack information for handled exceptions, add SourceFile and EnclosingMethod.</li>\n</ul>\n<p>Add the following to your ProGuard config file <code class=\"language-text\">proguard.cfg</code>, <code class=\"language-text\">proguard-android.txt</code>, <code class=\"language-text\">proguard-rules.pro</code>, etc.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token operator\">-</span>keep <span class=\"token keyword\">class</span> com<span class=\"token punctuation\">.</span>newrelic<span class=\"token punctuation\">.</span>*<span class=\"token operator\">*</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">-</span>dontwarn com<span class=\"token punctuation\">.</span>newrelic<span class=\"token punctuation\">.</span>*<span class=\"token operator\">*</span>\n<span class=\"token operator\">-</span>keepattributes <span class=\"token class-name\">Exceptions</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Signature</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InnerClasses</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">LineNumberTable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">SourceFile</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>Clean and rebuild your project.</p>\n<p>Run your app in an emulator or device to start seeing data on your mobile app’s Overview page.\nOptional: Use the New Relic Mobile Settings page to customize your mobile app.</p>\n<p>Thank You!</p>","frontmatter":{"title":"Using ProGuard and DexGuard in Your Android App","date":"February 26, 2020","authorID":"1"}}},"pageContext":{"slug":"/android/using_proguard_and_dexguard_in_your_android_app/","previous":{"fields":{"slug":"/android/progaurd_and_dexgaurd/"},"frontmatter":{"title":"Proguard and DexGuard","category":"android","draft":false}},"next":null}}}